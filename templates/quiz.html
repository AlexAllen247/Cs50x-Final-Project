{% extends "layout.html" %}

{% block title %}
    Quote
{% endblock %}

{% block main %}
    <div class="header">
        <h1>Quiz!</h1>
    </div>
    <br>
    <div class="container">
        <div class="section">
            <h2>Question 1</h2>
            <hr>
            <h3>Who was the longest reigning Roman Emperor?</h3>
                <h2 id="return_part_1"></h2>
                <br>
                    <button class="button btn-primary">Tiberius</button>
                    <button class="button btn-primary">Hadrian</button>
                    <button id="correct" class="button btn-primary">Augustus</button>
                    <button class="button btn-primary">Constantine</button>
        </div>
            <br>
        <div class="section">
            <h2>Question 2</h2>
            <hr>
                <h3>In which city is the Hagia Sophia located?</h3>
                <br>
                    <h2 id="return_part_2"></h2>
                    <input type="text">
                    <button id="check" class="input btn-success">Check Answer</button>
        </div>
    </div>
    <script>
        function answer(correct, element) {
            if (correct) {
                document.getElementById(element).innerHTML = "Correct! :)"
            } else {
            document.getElementById(element).innerHTML = "Incorrect :("
        }
    }

    function resetButtons() {
        let buttons = document.querySelectorAll(".button");
        buttons.forEach(function (button) {
            button.classList.remove('incorrect');
            button.classList.remove('correct');
        })
    }

    function answerButton() {
        resetButtons()
        if (event.target.id == "correct") {
            event.target.classList.add('correct');
            answer(true, "return_part_1");
        }
        else {
            event.target.classList.add('incorrect');
            answer(false, "return_part_1");
        }

    }

    document.addEventListener("DOMContentLoaded", function (event) {
        let buttons = document.querySelectorAll(".button");
        buttons.forEach(function (button) {
            button.addEventListener("click", answerButton);
        })

        inputAnswer = document.querySelector('input')
        checkAnswer = document.querySelector("#check");
        checkAnswer.addEventListener('click', function (evt) {
            if (inputAnswer.value.toLowerCase() == "istanbul") {
                answer(true, "return_part_2");
            }
            else {
                answer(false, "return_part_2");
            }
        });
    });
    </script>
{% endblock %}